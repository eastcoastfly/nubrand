//
//
// * DEFAULT, BASELINE GUTENSLIDER CODE
.wp-block-eedee-block-gutenslider {
	> .eedee-swiper-outer {
		> .swiper {
			> .swiper-wrapper {
				//
				// * Each individual slide
				> .wp-block-eedee-block-gutenslide {
					> .slide-content {
						padding: $margin_4x;
						.alignfull {
							width: 100%;
						}
						> .wp-block-columns {
							> .wp-block-column {
								//
								// * The image column
								&.gutenslider--imageside {
									> .wp-block-image {
									}
								}
								//
								// * The content column
								&:not(.gutenslider--imageside) {
									> .wp-block-group {
									}
								}
							}
						}
					}
				}
			}
		}
		//
		// * Left/right nav buttons
		> .eedee-gutenslider-nav {
			@extend %transition;
			width: 40px;
			height: 40px;
			background-color: rgba(0, 0, 0, 0.6) !important;
			border-radius: 0.25em;
			z-index: 1 !important;
			&:before {
				color: white;
				z-index: 1;
				font-size: 2rem;
				position: absolute;
			}
			> svg {
				display: none;
			}
			&:hover,
			&:focus {
				background-color: rgba(0, 0, 0, 0.8) !important;
			}
			//
			// * The left button (prev)
			&.eedee-gutenslider-prev {
				@include nu_fa_icon("\f104", before);
			}
			//
			// * The right button (next)
			&.eedee-gutenslider-next {
				@include nu_fa_icon("\f105", before);
			}
		}
		//
		// * Pagination at bottom of slider
		> .eedee-gutenslider-pagination {
		}
	}
} // END .wp-block-eedee-block-gutenslider

//
//
//
//
//
//
//

.wp-block-eedee-block-gutenslider {
	// ?
	// ?
	&.is-style-alternate {
		// ? hide these
		.gutenslider-divider-top,
		.gutenslider-divider-bottom {
			display: none !important;
		}

		.eedee-gutenslider-nav {
			top: auto !important;
			left: auto !important;
			bottom: 0 !important;
			right: 0 !important;
			width: $margin_4x;
			height: $margin_4x;
			background-color: var(--wp--preset--color--light) !important;
			border-radius: 0;
			@extend %transition;
			&.eedee-gutenslider-next {
				transform: translate(0, 0);
			}
			&.eedee-gutenslider-prev {
				transform: translate(-100%, 0);
			}
			&::before {
				color: var(--wp--preset--color--dark) !important;
				// color: var(--wp--preset--color--primary) !important;
				font-size: var(--wp--preset--font-size--20-28);
			}
			&:hover,
			&:focus {
				background-color: var(--wp--preset--color--light) !important;
			}
		}

		> .eedee-swiper-outer {
			position: relative;

			.swiper-container {
				.swiper-slide {
					.slide-content {
						padding: 0;

						> .wp-block-media-text {
							height: 100%;
							> figure {
								height: 100%;
								margin: 0;
								> img {
									min-height: 100%;
								}
							}
						}
						.wp-block-pullquote {
							margin: 0;
						}
					}
				}
			}

			> .eedee-gutenslider-pagination {
				left: $margin_2x;
				bottom: $margin_2x;
				.swiper-pagination-bullet {
					@extend %transition;
					width: 16px;
					height: 16px;
				}
				.swiper-pagination-bullet:not(.swiper-pagination-bullet-active) {
					background-color: transparent;
					border: 1px solid var(--wp--preset--color--dark);
					// border: 1px solid var(--wp--preset--color--primary);
					&:hover,
					&:focus,
					&:active {
						opacity: 0.9;
						background-color: transparent !important;
					}
				}
			}
		}
	}
}

//
//
// * CODE FOR GUTENSLIDER WITH RED BUTTONS
.patterns--sliders--red-buttons {
	&.wp-block-eedee-block-gutenslider {
		> .eedee-swiper-outer {
			> .swiper {
				> .swiper-wrapper {
					> .swiper-slide {
						> .slide-content {
							// * To cascade and make the image 100% height
							@include media(">=small") {
								height: 100%;
							}

							> .wp-block-columns {
								// * To cascade and make the image 100% height
								@include media(">=small") {
									height: 100%;
								}
								> .wp-block-column {
									// * The image column of the slide
									&.gutenslider--imageside {
										// * Hide the image on smaller screens
										@include media("<medium") {
											display: none;
										}
										// * To cascade and make the image 100% height
										@include media(">=small") {
											height: 100%;
										}

										> figure {
											// * To cascade and make the image 100% height
											@include media(">=small") {
												height: 100%;
											}

											> img {
												// * To cascade and make the image 100% height
												@include media(">=small") {
													height: 100%;
												}
											}
										}
									}
									// * The content column of the slide
									&:not(.gutenslider--imageside) {
										// * Change align to flex-start (top)
										align-self: flex-start !important;

										> .wp-block-group {
											// * Add padding of 80px (per Figma)
											@include media(">=medium") {
												padding: (
													$margin_4x + $base-margin
												);
											}
											// * Decrease padding on smaller screens
											@include media("<medium") {
												padding: $margin_4x;
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		//
		//
		.eedee-gutenslider-pagination {
			// * Move the pagination to the lower right corner (per Figma)
			justify-self: end !important;
			padding-right: 0 !important;
			.swiper-pagination-bullet {
				// * Set height and width of number boxes to 64px (per Denise)
				height: $margin_4x;
				width: $margin_4x;
				padding: 0;
				line-height: 60px;
				&:not(.swiper-pagination-bullet-active) {
					// * Make non-active buttons white background
					background-color: var(--wp--preset--color--white);
					&:hover {
						// * Make white buttons light gray upon hover
						background-color: var(--wp--preset--color--neutral-1);
					}
				}

				// * Make the bullets into the squares (per Figma)
				margin: 0 !important;
				border-radius: 0;
				color: var(--wp--preset--color--black);
				opacity: 1;

				// * Make the active bullet the NU Red color
				&.swiper-pagination-bullet-active {
					background-color: var(--wp--preset--color--nu-red);
					color: var(--wp--preset--color--white);
				}
			}
		}
	}
}

//
//
//
// * Slider of heroes needs some adjustments.
.wp-block-eedee-block-gutenslider.pattern--is-the-heroes-demo-slider {
	padding: 0 !important;
	.wp-block-eedee-block-gutenslide {
		.slide-content {
			padding: 0 !important;
			flex-flow: column nowrap;
			justify-content: initial;
			align-items: initial;
			width: 100%;

			// ? top-level blocks get custom vertical spacing to reduce the need for the spacer block
			> :not(p, .wp-block-paragraph, .wp-block-spacer) {
				margin-top: var(--wp--custom--spacing--small);
			}
			> :not(.alignfull, .alignwide) {
				max-width: var(--wp--custom--content-size);
				margin-left: auto;
				margin-right: auto;
			}
			> .alignwide {
				max-width: var(--wp--custom--wide-size);
				margin-left: auto;
				margin-right: auto;
				width: 100%;
			}

			> .alignfull {
				width: 100%;
				max-width: unset;
			}

			// ? alignfull first block assumed to be a hero
			> .alignfull:first-child {
				margin-top: 0;
			}
			// ? outer-spacing pads the edges of the screen
			%add_outer_spacing {
				padding-right: var(--wp--custom--spacing--outer);
				padding-left: var(--wp--custom--spacing--outer);
			}
			%remove_outer_spacing {
				margin-left: calc(
					-1 * var(--wp--custom--spacing--outer)
				) !important;
				margin-right: calc(
					-1 * var(--wp--custom--spacing--outer)
				) !important;
			}

			// ? top-level block is a full-width group - unless it is the first block (assumed to be a hero pattern)
			> .wp-block-group.alignfull {
				&:not(:first-child) {
					@extend %add_outer_spacing;
				}
			}
			// ? nearly all blocks are assumed to need outer spacing - avoiding the fullwidth group (just-container)
			> :not(.wp-block-group.alignfull) {
				@extend %add_outer_spacing;
			}
		}
	}
}

//
//
//
// * Gutensliders inside the sidebar layout pattern
.patterns--layouts--content-with-sidebar {
	> .wp-block-columns {
		> .wp-block-column {
			&.is-the-content {
				// * Being used for sliders
				> .wp-block-eedee-block-gutenslider {
					.slide-content {
						padding: $margin_8x 0 !important;
						> * {
							width: 100%;
						}
						> :not(.alignfull) {
							margin-left: auto;
							margin-right: auto;
							max-width: var(--wp--custom--content-size);
						}
					}
				}
			}
		}
	}
}
